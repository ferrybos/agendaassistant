app.directive("focusOn",function(n){return function(t,i,r){t.$on(r.focusOn,function(){n(function(){i[0].focus()})})}});app.directive("showErrors",function(n,t){var i,r;return i=function(n){var i;return i=t.showSuccess,n&&n.showSuccess!=null&&(i=n.showSuccess),i},r=function(t,r,u,f){var o,c,e,h,l,a,s;if(o=!1,l=t.$eval(u.showErrors),a=i(l),c=r[0].querySelector("[name]"),h=angular.element(c),e=h.attr("name"),!e)throw"show-errors element has no child input elements with a 'name' attribute";return h.bind("blur",function(){return o=!0,s(f[e].$invalid)}),t.$watch(function(){return f[e]&&f[e].$invalid},function(n){if(o)return s(n)}),t.$on("show-errors-check-validity",function(){return s(f[e].$invalid)}),t.$on("show-errors-reset",function(){return n(function(){return r.removeClass("has-error"),r.removeClass("has-success"),o=!1},0,!1)}),s=function(n){return r.toggleClass("has-error",n),a?r.toggleClass("has-success",!n):void 0}},{restrict:"A",require:"^form",compile:function(n){if(!n.hasClass("form-group"))throw"show-errors element does not have the 'form-group' class";return r}}});app.provider("showErrorsConfig",function(){var n;n=!1;this.showSuccess=function(t){return n=t};this.$get=function(){return{showSuccess:n}}});app.directive("flightSearch",function(n,t,i,r,u,f){return{restrict:"E",scope:{event:"=",outboundFlights:"=",inboundFlights:"=",departurestations:"=",arrivalstations:"=",routes:"="},controller:function(r){function o(){return r.maxpriceChecked?r.maxprice:null}function e(){return r.weekdays[0].value*1+r.weekdays[1].value*2+r.weekdays[2].value*4+r.weekdays[3].value*8+r.weekdays[4].value*16+r.weekdays[5].value*32+r.weekdays[6].value*64}r.isloading=!1;r.maxpriceChecked=!0;r.maxprice=250;r.weekdays=[{day:"Ma",value:1},{day:"Di",value:1},{day:"Wo",value:1},{day:"Do",value:1},{day:"Vr",value:1},{day:"Za",value:1},{day:"Zo",value:1}];r.$watch("event.beginDate",function(){if(r.event!=undefined&&r.event.endDate<r.event.beginDate){var t=r.event.beginDate,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0);n.log("Update endDate: "+i);r.event.endDate=i}});r.$watchCollection("[event.origin, event.destination]",function(){if(r.event!=undefined&&r.event.departureStation!=null&&r.event.arrivalStation!=null&&r.event.departureStation.length>0&&r.event.arrivalStation.length>0){var f=u("filter")(r.routes,{destination:r.event.destination},!0),i=u("filter")(f,{origin:r.event.origin},!0);n.log("matchedRoute: "+JSON.stringify(i));i.length==0&&t.show("Vlucht zoeken","Route is niet beschikbaar.")}});r.$watchCollection("[maxprice, maxpriceChecked]",function(){r.event!=undefined&&(r.event.maxPrice=o())});angular.forEach(r.weekdays,function(n,t){r.$watch("weekdays["+t+"].value",function(){r.event!=undefined&&(r.event.daysOfWeek=e())})});r.SearchFlights=function(){var u="";if(r.event.origin==null&&(u=u+"Vertrek station is niet ingevuld. "),r.event.destination==null&&(u=u+"Aankomst station is niet ingevuld."),u.length>0){t.show("Vlucht zoeken",u);return}r.isloading=!0;r.event.daysOfWeek=e();f.search(r.event.origin,r.event.destination,r.event.beginDate,r.event.endDate,r.event.participants.length,e(),r.event.maxPrice).success(function(t){r.isloading=!1;r.outboundFlights=t.outboundFlights;r.inboundFlights=t.inboundFlights;n.log("Flights = "+JSON.stringify(t))}).error(function(n){i.show(n);r.isloading=!1;r.outboundFlights=null;r.inboundFlights=null})}},templateUrl:"../partials/flightsearch.html"}});app.directive("flightlist",function(){return{restrict:"E",scope:{flights:"="},controller:function(n){n.toggleIsSelected=function(n){n.IsSelected=n.IsSelected===!0?!1:!0};n.selectAllFlights=function(t){angular.forEach(n.flights,function(n){n.IsSelected=t})}},templateUrl:"../partials/flightlist.html"}});app.directive("flightSearchAvailability",function(n,t,i,r,u){return{restrict:"E",scope:{event:"=",flightsearch:"=",availabilityurl:"="},controller:function(t){t.weekdays=["Zo","Ma","Di","Wo","Do","Vr","Za"];t.SelectFlight=function(i,r){var f=r!=null?r.id:0,e=i.selectedFlight;i.selectedFlight=r;n.selectflight(t.event.id,i.id,f).success(function(){}).error(function(n){i.selectedFlight=e;u.show(n)})};t.formatDepartureDate=function(n){if(n==undefined)return"";var u=Date.parse(n),r=new Date(u),f=i("date")(r,"dd-MMM-yyyy");return t.weekdays[r.getDay()]+" "+f}},templateUrl:"../partials/flightsearchavailability.html"}});app.directive("availabilitylist",function(){return{restrict:"E",scope:{flightsearch:"="},controller:function(){},templateUrl:"../partials/availabilitylist.html"}});app.directive("participants",function(){return{restrict:"E",scope:{flight:"=",showparticipantlink:"="},controller:function(){},templateUrl:"../partials/participants.html"}});app.directive("availabilitybar",function(){return{restrict:"E",scope:{flight:"="},controller:function(){},templateUrl:"../partials/availabilitybar.html"}});app.directive("info",function(){return{restrict:"E",transclude:!0,template:'<div class="alert alert-warning" role="alert" style="border:0;" ng-transclude><\/div>'}});app.directive("loader",function(){return{restrict:"E",transclude:!0,template:'<div class="loader"><img src="img/ajax-loader.gif" style="padding:10px" /><span class="help-block loadertext" ng-transclude><\/span><\/div>'}});app.directive("eventSubTitle",function(){return{restrict:"E",scope:{event:"="},template:'<p class="subtitle">Georganiseerd door {{event.organizerName}}<\/p>'}});app.directive("eventActions",function(){return{restrict:"E",scope:{event:"="},controller:function(n,t,i,r,u,f){function e(){var t,i;if(n.event!=null)for(t=0;t<n.event.participants.length;t++)if(i=n.event.participants[t],i.person.email==n.event.organizerEmail)return i;return null}n.showParticipantActions=function(){return n.event!=null&&n.event.pnr===null&&e()!=null};n.organizerId=function(){var n=e();return n!=null?n.id:null};n.sendReminder=function(){r.sendReminder(n.event.id).success(function(){f.show(n.event.title,"Er is een email verstuurd naar alle deelnemers die hun beschikbaarheid en/of boekingsgegevens nog niet hebben bevestigd.")}).error(function(n){u.show(n)})};n.areFlightsSelected=function(){return n.event!=null&&n.event.outboundFlightSearch.selectedFlight!=null&&n.event.inboundFlightSearch.selectedFlight!=null};n.areSelectedFlightsValid=function(){return n.event!=null&&n.event.outboundFlightSearch.selectedFlight!=null&&n.event.inboundFlightSearch.selectedFlight!=null&&n.event.outboundFlightSearch.selectedFlight.std<n.event.inboundFlightSearch.selectedFlight.std};n.hilightSelectFlight=function(){if(n.event!=null&&n.event.outboundFlightSearch.selectedFlight==null&&n.event.inboundFlightSearch.selectedFlight==null){var i=t("filter")(n.event.participants,{avConfirmed:!1},!0);return i.length==0}return!1};n.showSendReminder=function(){if(n.event!==null&&n.event.pnr===null){var i=t("filter")(n.event.participants,{avConfirmed:!1},!0);return i.length>0}return!1}},templateUrl:"../partials/eventActions.html"}});
/*
//# sourceMappingURL=directives.min.js.map
*/