<img src="img/ajax-loader.gif" alt="" id="loader" ng-if="event == null && errorMessage.length == 0" />
<div class="alert alert-success ontop" role="alert" ng-if="infoMessage.length > 0">{{infoMessage}}</div>
<!--<div class="alert alert-danger alert-dismissible" role="alert" ng-if="errorMessage.length > 0">{{errorMessage}}</div>-->
<div id="wrapper" ng-show="event != null">
    <h1>{{::event.title}}</h1>
    <event-sub-title event="event"></event-sub-title>
    <event-description event="event"></event-description>
    <h4>Deelnemer {{participant.person.name}}</h4>
    <div ng-if="event.pnr == null">
        <div class="btn-group btn-group-justified" style="margin-bottom: 20px">
            <a role="button" class="btn" ng-class="activeTabIndex == 0 ? 'btn-primary' : 'btn-default'" ng-click="activeTabIndex = 0">Beschikbaarheid</a>
            <a role="button" class="btn" ng-class="activeTabIndex == 1 ? 'btn-primary' : 'btn-default'" ng-click="activeTabIndex = 1">Boekingsgegevens</a>
        </div>

        <div ng-show="activeTabIndex == 0">
            <div ng-show="participant.avConfirmed === true">
                <div class="alert alert-success" role="alert">U heeft uw beschikbaarheid al bevestigd.</div>
                <a ng-click="participant.avConfirmed = false" style="cursor: pointer">Beschikbaarheid wijzigen</a>
            </div>
            <div ng-show="participant.avConfirmed !== true">
                <info>Vul hier uw beschikbaarheid in en druk onderaan op de Bevestigen knop om de beschikbaarheid door te geven aan de organisator.</info>

                <div class="row">
                    <div class="col-md-6 leftcol">
                        <h4>Heen vluchten ({{event.outboundFlightSearch.departureStation}} - {{event.outboundFlightSearch.arrivalStation}})</h4>
                        <availabilitylist flightsearch="event.outboundFlightSearch"></availabilitylist>
                    </div>
                    <div class="col-md-6 rightcol">
                        <h4>Terug vluchten ({{event.inboundFlightSearch.departureStation}} - {{event.inboundFlightSearch.arrivalStation}})</h4>
                        <availabilitylist flightsearch="event.inboundFlightSearch"></availabilitylist>
                    </div>
                </div>

                <br />
                <button type="button" class="btn btn-lg btn-primary" style="width: 100%" ng-click="Confirm()" ng-disabled="isConfirming === true">Bevestigen</button>
            </div>
        </div>
        <div ng-show="activeTabIndex == 1">
            <div ng-show="participant.bdConfirmed === true">
                <div class="alert alert-success" role="alert">U heeft uw boekingsgegevens al bevestigd.</div>
                <a ng-click="participant.bdConfirmed = false" style="cursor: pointer">Boekingsgegevens wijzigen</a>
            </div>
            <div ng-show="participant.bdConfirmed !== true">
                <participantdata participant="participant"></participantdata>
            </div>
        </div>
    </div>

    <div ng-if="event.pnr !== null">
        <info>Er is al een boeking voor deze afspraak gemaakt.</info>
    </div>
</div>
